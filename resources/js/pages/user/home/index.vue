<script setup lang="ts">
import { ref } from 'vue';
import { MessageSquare, Users, Bell, Settings, ArrowRight } from 'lucide-vue-next';

const user = ref({
  name: 'Nguyá»…n Thanh LuÃ¢n',
  avatar: 'https://i.pravatar.cc/150?img=64',
  email: 'luan@example.com',
  status: 'Äang hoáº¡t Ä‘á»™ng',
});

const recentChats = ref([
  { id: 1, name: 'Nguyá»…n Minh', lastMessage: 'HÃ´m nay Ä‘i cafe nhÃ© â˜•', time: '2 phÃºt trÆ°á»›c', avatar: 'https://i.pravatar.cc/50?img=12' },
  { id: 2, name: 'Tráº§n HÃ ', lastMessage: 'Ok, Ä‘á»ƒ mÃ¬nh gá»­i file Ä‘Ã³!', time: '15 phÃºt trÆ°á»›c', avatar: 'https://i.pravatar.cc/50?img=20' },
  { id: 3, name: 'LÃª QuÃ¢n', lastMessage: 'Cáº£m Æ¡n nhÃ© ğŸ™', time: '1 giá» trÆ°á»›c', avatar: 'https://i.pravatar.cc/50?img=33' },
]);

const activities = ref([
  { id: 1, text: 'Báº¡n Ä‘Ã£ gá»­i tin nháº¯n cho Tráº§n HÃ ', time: '15 phÃºt trÆ°á»›c' },
  { id: 2, text: 'Báº¡n thÃªm nhÃ³m â€œTeam Dev Worksyncâ€', time: '3 giá» trÆ°á»›c' },
  { id: 3, text: 'ÄÃ£ cáº­p nháº­t áº£nh Ä‘áº¡i diá»‡n', time: 'HÃ´m qua' },
]);
</script>

<template>
  <div class="max-w-7xl mx-auto p-6 space-y-8 text-gray-900 dark:text-gray-100">
    <!-- Header -->
    <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
      <div class="flex items-center gap-4">
        <img :src="user.avatar" class="w-20 h-20 rounded-full ring-4 ring-indigo-500" />
        <div>
          <h1 class="text-2xl font-bold">{{ user.name }}</h1>
          <p class="text-gray-500 dark:text-gray-400">{{ user.email }}</p>
          <p class="text-green-500 text-sm">{{ user.status }}</p>
        </div>
      </div>
      <button class="flex items-center gap-2 bg-indigo-500 text-white px-5 py-2 rounded-xl hover:bg-indigo-600 transition">
        <MessageSquare class="w-4 h-4" />
        Báº¯t Ä‘áº§u trÃ² chuyá»‡n
      </button>
    </div>

    <!-- Stats -->
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-5">
      <div class="p-5 bg-white dark:bg-gray-800 rounded-xl shadow-md flex items-center gap-4">
        <MessageSquare class="w-8 h-8 text-indigo-500" />
        <div>
          <p class="text-sm text-gray-500">Tin nháº¯n</p>
          <h3 class="text-lg font-semibold">128 cuá»™c há»™i thoáº¡i</h3>
        </div>
      </div>
      <div class="p-5 bg-white dark:bg-gray-800 rounded-xl shadow-md flex items-center gap-4">
        <Users class="w-8 h-8 text-indigo-500" />
        <div>
          <p class="text-sm text-gray-500">Báº¡n bÃ¨</p>
          <h3 class="text-lg font-semibold">52 ngÆ°á»i</h3>
        </div>
      </div>
      <div class="p-5 bg-white dark:bg-gray-800 rounded-xl shadow-md flex items-center gap-4">
        <Bell class="w-8 h-8 text-indigo-500" />
        <div>
          <p class="text-sm text-gray-500">ThÃ´ng bÃ¡o</p>
          <h3 class="text-lg font-semibold">5 chÆ°a Ä‘á»c</h3>
        </div>
      </div>
    </div>

    <!-- Recent chats -->
    <section>
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-semibold">ğŸ’¬ Cuá»™c trÃ² chuyá»‡n gáº§n Ä‘Ã¢y</h2>
        <router-link to="/user/messages" class="text-indigo-500 hover:text-indigo-600 flex items-center gap-1 text-sm">
          Xem táº¥t cáº£ <ArrowRight class="w-4 h-4" />
        </router-link>
      </div>

      <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md divide-y divide-gray-100 dark:divide-gray-700">
        <div
          v-for="chat in recentChats"
          :key="chat.id"
          class="flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition cursor-pointer"
        >
          <div class="flex items-center gap-4">
            <img :src="chat.avatar" class="w-10 h-10 rounded-full" />
            <div>
              <p class="font-medium">{{ chat.name }}</p>
              <p class="text-sm text-gray-500 dark:text-gray-400">{{ chat.lastMessage }}</p>
            </div>
          </div>
          <span class="text-sm text-gray-400">{{ chat.time }}</span>
        </div>
      </div>
    </section>

    <!-- Activity timeline -->
    <section>
      <h2 class="text-xl font-semibold mb-4">ğŸ•“ Hoáº¡t Ä‘á»™ng gáº§n Ä‘Ã¢y</h2>
      <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-5 space-y-3">
        <div v-for="act in activities" :key="act.id" class="flex justify-between border-b border-gray-100 dark:border-gray-700 pb-2 last:border-0">
          <p>{{ act.text }}</p>
          <span class="text-sm text-gray-400">{{ act.time }}</span>
        </div>
      </div>
    </section>
  </div>
</template>

<style scoped>
@media (max-width: 640px) {
  h1 {
    font-size: 1.4rem;
  }
}
</style>
